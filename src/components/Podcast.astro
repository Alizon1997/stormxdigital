---
import Container from "./Container.astro"
import Topic from "./Topic.astro"
import IframeCarousel from "./IframeCarousel.jsx"
import { getRelativeLocaleUrl } from 'astro:i18n';
import type { TranslationType } from './types/services';

// Ensure currentLocale is always 'en' or 'it'
const currentLocale = Astro.currentLocale || 'it';

// Import translations
import enTranslations from '../../public/locales/en/translation.json';
import itTranslations from '../../public/locales/it/translation.json';

const translations: TranslationType = currentLocale === 'en' ? enTranslations : itTranslations;
---

<Container>
  <div class="relative flex flex-col items-center md:flex-row mb-8 sm:mb-12">
    <Topic 
      title={translations.podcast.title}
      description={translations.podcast.description}
    />
  </div>

  <IframeCarousel client:load />
</Container>